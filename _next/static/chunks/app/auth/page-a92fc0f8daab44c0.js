(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{6103:(e,t,r)=>{Promise.resolve().then(r.bind(r,9574))},6046:(e,t,r)=>{"use strict";var n=r(6658);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},6793:(e,t)=>{"use strict";function r(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9574:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r(5155),s=r(6793),o=r.n(s),a=r(2115);class l extends Error{}l.prototype.name="InvalidTokenError";var i=r(6046);let u=e=>{let{WrappedComponent:t,roles:r,navigateToRouteIfNotAuthenticated:s}=e;return(0,n.jsx)(()=>{let e=(0,i.useRouter)(),o=(()=>{let e=null;try{e=function(e,t){let r;if("string"!=typeof e)throw new l("Invalid token specified: must be a string");t||(t={});let n=!0===t.header?0:1,s=e.split(".")[n];if("string"!=typeof s)throw new l(`Invalid token specified: missing part #${n+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(s)}catch(e){throw new l(`Invalid token specified: invalid base64 for part #${n+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new l(`Invalid token specified: invalid json for part #${n+1} (${e.message})`)}}("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoidXNlciIsImlhdCI6MTY4MTAyMjYwNn0.UIva61Il9WWU4wB7csF7g8-LAt-3p6rc91maO5Aqs3o")}catch(e){}return e})(),u=!!(o&&r.includes(null==o?void 0:o.role));return console.log("isAuthenticated::: ",u),(0,a.useEffect)(()=>{u||e.push(s)},[]),u?t:(0,n.jsx)(n.Fragment,{})},{})};var c=function(e){return e.admin="admin",e.user="user",e}({});let d=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o(),{children:(0,n.jsx)("title",{children:"Rahul's solution login"})}),(0,n.jsx)("div",{children:"auth example"})]});function f(){return u({WrappedComponent:(0,n.jsx)(d,{}),navigateToRouteIfNotAuthenticated:"/",roles:[c.user]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(6103)),_N_E=e.O()}]);